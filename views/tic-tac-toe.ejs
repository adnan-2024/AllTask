<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <style>
        .main{
            max-width:550px;
            margin: 0 auto;
        }
        .players{
            display: flex;
            justify-content:space-around;
        }
        .board{
            width: 23rem;
    max-width: 300px;
    height: 300px;
    margin: 0 auto;
            margin-top:10px;
            display: grid;
            grid-template-columns: repeat(3,1fr);
            grid-template-rows: repeat(3,1fr);
            grid-gap:12px;
        }
        .board_cell{
            width: 100%;
            height: 100%;
           display: flex;
    justify-content: center;
    align-items: center;
    font-size: 50px;
            background-color: white;
            border-radius: 10px;
            cursor: pointer;
        }
        .popup{
    width: 100%;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    background: rgba(0,0,0,0.8);
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    align-items: center;
    z-index: 999;
}
.popup p{
    font-size: 30px;
    font-weight: 600;
    margin-bottom: 20px;
    color: #fff;
}
        .popup.hide{
            display: none;
        }
        .maintain{
     display: flex;
     justify-content: space-around;
     margin-top: 12px;
     button{
        background-color: teal;
        padding: 12px;
        color: white;
        cursor: pointer;
     }
        }
        h1,h2{
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="main">
        <h1>TIC TAC TOE</h1>
        <h2>Adnankhan</h2>
           <div class="players">
            <div class="player">
                X
            </div>
            <div class="player">
                O
            </div>
           </div>
           <div class="tictaccontainer">
            <div class="board">
                <button class="board_cell" data-cell-index="1"></button>
                <button class="board_cell" data-cell-index="2"></button>
                <button class="board_cell" data-cell-index="3"></button>
                <button class="board_cell" data-cell-index="4"></button>
                <button class="board_cell" data-cell-index="5"></button>
                <button class="board_cell" data-cell-index="6"></button>
                <button class="board_cell" data-cell-index="7"></button>
                <button class="board_cell" data-cell-index="8"></button>
                <button class="board_cell" data-cell-index="9"></button>
                
            </div>
           </div>
           <div class="maintain">
               <button class="game-restart-btn">Restart Game</button>
              
            </div>

         
    </div>
    <script>
        let clkbtn=document.querySelectorAll(".board_cell");
       
        let restartBtn = document.querySelector(".game-restart-btn");
        let winning_pattern=[
        [0, 1, 2],
    [0, 3, 6],
    [2, 5, 8],
    [6, 7, 8],
    [3, 4, 5],
    [1, 4, 7],
    [0, 4, 8],
    [2, 4, 6],
];
let xturn=true;
let count=0;
function enableButtons() {
    clkbtn.forEach((element) => {
        element.disabled = false;
    });
}
function disableButtons() {
    clkbtn.forEach(element => {
        element.disabled = true;
    });
}

function winlogic() {
    for (let i of winning_pattern) {
        
        let [element1, element2, element3] = [
          clkbtn[i[0]].innerText,
          clkbtn[i[1]].innerText,
          clkbtn[i[2]].innerText,
        ];

    
        if (element1 != "" && element2 != "" && element3 != "") {
          if (element1 === element2 && element2 === element3) {
            winFunction(element1);
          }
        }
    }
}


restartBtn.addEventListener("click", () => {
    count = 0;
    clkbtn.forEach((element) => {
        element.innerHTML=""
               
    }
    );
    enableButtons();
});

function winFunction(letter) {
  disableButtons();
  if (letter === 'X') {
    alert("X wins");
  } else {
    alert("O wins");
  }
}
clkbtn.forEach((element)=>{
    element.addEventListener("click",()=>{
        if(xturn){
           xturn=false;
           element.innerText="X";
           element.disabled=true;
        }
        else{
            xturn=true;
            element.innerText="O";
            element.disabled=true;
        }
        count +=1;
       
        if (count == 9) {
        return drawFunction();
        }
 
        winlogic();
    })
});
function drawFunction() {
  disableButtons();
  alert("It's Draw");
}
window.onload=enableButtons;

    </script>
</body>
</html>